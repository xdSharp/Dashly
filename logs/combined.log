{"filter":{},"level":"info","message":"Getting sales with filter","service":"dashly-backend","timestamp":"2025-05-09 23:07:55","userId":9}
{"count":1,"level":"info","message":"Sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:07:55"}
{"dateRange":{"end":"2025-12-31T20:59:59.000Z","start":"2024-12-31T21:00:00.000Z"},"level":"info","message":"Getting monthly sales","service":"dashly-backend","timestamp":"2025-05-09 23:07:55","userId":9,"year":2025}
{"level":"info","message":"Executing query for all businesses","service":"dashly-backend","timestamp":"2025-05-09 23:07:55","userId":9}
{"context":"Getting monthly sales","level":"error","message":"The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","service":"dashly-backend","stack":"TypeError [ERR_INVALID_ARG_TYPE]: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at Function.byteLength (node:buffer:777:11)\n    at Function.str (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/bytes.js:22:27)\n    at file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:938:16\n    at Array.forEach (<anonymous>)\n    at Bind (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:928:16)\n    at prepared (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:204:7)\n    at ParameterDescription (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:607:58)\n    at handle (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:474:6)\n    at Socket.data (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:315:9)\n    at Socket.emit (node:events:507:28)","timestamp":"2025-05-09 23:07:55","userId":9,"year":2025}
{"filter":{"businessId":6},"level":"info","message":"Getting sales with filter","service":"dashly-backend","timestamp":"2025-05-09 23:07:56","userId":9}
{"count":1,"level":"info","message":"Sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:07:56"}
{"businessId":6,"dateRange":{"end":"2025-12-31T20:59:59.000Z","start":"2024-12-31T21:00:00.000Z"},"level":"info","message":"Getting monthly sales","service":"dashly-backend","timestamp":"2025-05-09 23:07:56","userId":9,"year":2025}
{"businessId":6,"level":"info","message":"Executing query with specific businessId","service":"dashly-backend","timestamp":"2025-05-09 23:07:56"}
{"businessId":6,"context":"Getting monthly sales","level":"error","message":"The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","service":"dashly-backend","stack":"TypeError [ERR_INVALID_ARG_TYPE]: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at Function.byteLength (node:buffer:777:11)\n    at Function.str (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/bytes.js:22:27)\n    at file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:938:16\n    at Array.forEach (<anonymous>)\n    at Bind (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:928:16)\n    at prepared (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:204:7)\n    at ParameterDescription (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:607:58)\n    at handle (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:474:6)\n    at Socket.data (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:315:9)\n    at Socket.emit (node:events:507:28)","timestamp":"2025-05-09 23:07:56","userId":9,"year":2025}
{"businessId":6,"dateRange":{"end":"2025-12-31T20:59:59.000Z","start":"2024-12-31T21:00:00.000Z"},"level":"info","message":"Getting monthly sales","service":"dashly-backend","timestamp":"2025-05-09 23:07:57","userId":9,"year":2025}
{"businessId":6,"level":"info","message":"Executing query with specific businessId","service":"dashly-backend","timestamp":"2025-05-09 23:07:57"}
{"businessId":6,"context":"Getting monthly sales","level":"error","message":"The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","service":"dashly-backend","stack":"TypeError [ERR_INVALID_ARG_TYPE]: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at Function.byteLength (node:buffer:777:11)\n    at Function.str (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/bytes.js:22:27)\n    at file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:938:16\n    at Array.forEach (<anonymous>)\n    at Bind (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:928:16)\n    at prepared (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:204:7)\n    at ParameterDescription (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:607:58)\n    at handle (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:474:6)\n    at Socket.data (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:315:9)\n    at Socket.emit (node:events:507:28)","timestamp":"2025-05-09 23:07:57","userId":9,"year":2025}
{"businessId":6,"dateRange":{"end":"2025-12-31T20:59:59.000Z","start":"2024-12-31T21:00:00.000Z"},"level":"info","message":"Getting monthly sales","service":"dashly-backend","timestamp":"2025-05-09 23:07:57","userId":9,"year":2025}
{"businessId":6,"level":"info","message":"Executing query with specific businessId","service":"dashly-backend","timestamp":"2025-05-09 23:07:57"}
{"businessId":6,"context":"Getting monthly sales","level":"error","message":"The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","service":"dashly-backend","stack":"TypeError [ERR_INVALID_ARG_TYPE]: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at Function.byteLength (node:buffer:777:11)\n    at Function.str (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/bytes.js:22:27)\n    at file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:938:16\n    at Array.forEach (<anonymous>)\n    at Bind (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:928:16)\n    at prepared (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:204:7)\n    at ParameterDescription (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:607:58)\n    at handle (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:474:6)\n    at Socket.data (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:315:9)\n    at Socket.emit (node:events:507:28)","timestamp":"2025-05-09 23:07:57","userId":9,"year":2025}
{"businessId":6,"dateRange":{"end":"2025-12-31T20:59:59.000Z","start":"2024-12-31T21:00:00.000Z"},"level":"info","message":"Getting monthly sales","service":"dashly-backend","timestamp":"2025-05-09 23:08:00","userId":9,"year":2025}
{"businessId":6,"level":"info","message":"Executing query with specific businessId","service":"dashly-backend","timestamp":"2025-05-09 23:08:00"}
{"businessId":6,"context":"Getting monthly sales","level":"error","message":"The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","service":"dashly-backend","stack":"TypeError [ERR_INVALID_ARG_TYPE]: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at Function.byteLength (node:buffer:777:11)\n    at Function.str (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/bytes.js:22:27)\n    at file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:938:16\n    at Array.forEach (<anonymous>)\n    at Bind (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:928:16)\n    at prepared (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:204:7)\n    at ParameterDescription (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:607:58)\n    at handle (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:474:6)\n    at Socket.data (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:315:9)\n    at Socket.emit (node:events:507:28)","timestamp":"2025-05-09 23:08:00","userId":9,"year":2025}
{"businessId":6,"dateRange":{"end":"2025-12-31T20:59:59.000Z","start":"2024-12-31T21:00:00.000Z"},"level":"info","message":"Getting monthly sales","service":"dashly-backend","timestamp":"2025-05-09 23:08:01","userId":9,"year":2025}
{"businessId":6,"level":"info","message":"Executing query with specific businessId","service":"dashly-backend","timestamp":"2025-05-09 23:08:01"}
{"businessId":6,"context":"Getting monthly sales","level":"error","message":"The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","service":"dashly-backend","stack":"TypeError [ERR_INVALID_ARG_TYPE]: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at Function.byteLength (node:buffer:777:11)\n    at Function.str (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/bytes.js:22:27)\n    at file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:938:16\n    at Array.forEach (<anonymous>)\n    at Bind (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:928:16)\n    at prepared (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:204:7)\n    at ParameterDescription (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:607:58)\n    at handle (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:474:6)\n    at Socket.data (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:315:9)\n    at Socket.emit (node:events:507:28)","timestamp":"2025-05-09 23:08:01","userId":9,"year":2025}
{"businessId":6,"dateRange":{"end":"2025-12-31T20:59:59.000Z","start":"2024-12-31T21:00:00.000Z"},"level":"info","message":"Getting monthly sales","service":"dashly-backend","timestamp":"2025-05-09 23:08:01","userId":9,"year":2025}
{"businessId":6,"level":"info","message":"Executing query with specific businessId","service":"dashly-backend","timestamp":"2025-05-09 23:08:01"}
{"businessId":6,"context":"Getting monthly sales","level":"error","message":"The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","service":"dashly-backend","stack":"TypeError [ERR_INVALID_ARG_TYPE]: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at Function.byteLength (node:buffer:777:11)\n    at Function.str (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/bytes.js:22:27)\n    at file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:938:16\n    at Array.forEach (<anonymous>)\n    at Bind (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:928:16)\n    at prepared (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:204:7)\n    at ParameterDescription (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:607:58)\n    at handle (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:474:6)\n    at Socket.data (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:315:9)\n    at Socket.emit (node:events:507:28)","timestamp":"2025-05-09 23:08:01","userId":9,"year":2025}
{"businessId":6,"dateRange":{"end":"2025-12-31T20:59:59.000Z","start":"2024-12-31T21:00:00.000Z"},"level":"info","message":"Getting monthly sales","service":"dashly-backend","timestamp":"2025-05-09 23:08:02","userId":9,"year":2025}
{"businessId":6,"level":"info","message":"Executing query with specific businessId","service":"dashly-backend","timestamp":"2025-05-09 23:08:02"}
{"businessId":6,"context":"Getting monthly sales","level":"error","message":"The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","service":"dashly-backend","stack":"TypeError [ERR_INVALID_ARG_TYPE]: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at Function.byteLength (node:buffer:777:11)\n    at Function.str (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/bytes.js:22:27)\n    at file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:938:16\n    at Array.forEach (<anonymous>)\n    at Bind (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:928:16)\n    at prepared (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:204:7)\n    at ParameterDescription (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:607:58)\n    at handle (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:474:6)\n    at Socket.data (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:315:9)\n    at Socket.emit (node:events:507:28)","timestamp":"2025-05-09 23:08:02","userId":9,"year":2025}
{"businessId":6,"level":"info","message":"Starting report generation","sections":{"categories":true,"products":true,"revenue":true,"sales":true},"service":"dashly-backend","timestamp":"2025-05-09 23:08:08","userId":9}
{"businessId":6,"level":"info","message":"Fetching sales data","service":"dashly-backend","timestamp":"2025-05-09 23:08:08","userId":9}
{"filter":{"businessId":6,"userId":9},"level":"info","message":"Getting sales with filter","service":"dashly-backend","timestamp":"2025-05-09 23:08:08","userId":9}
{"count":1,"level":"info","message":"Sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:08:08"}
{"count":1,"level":"info","message":"Sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:08:08"}
{"businessId":6,"level":"info","message":"Fetching products data","service":"dashly-backend","timestamp":"2025-05-09 23:08:08","userId":9}
{"businessId":6,"level":"info","message":"Getting products with sales data","service":"dashly-backend","timestamp":"2025-05-09 23:08:08","userId":9}
{"count":1,"level":"info","message":"Products with sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:08:08"}
{"count":1,"level":"info","message":"Products data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:08:08"}
{"businessId":6,"level":"info","message":"Fetching categories data","service":"dashly-backend","timestamp":"2025-05-09 23:08:08","userId":9}
{"businessId":6,"level":"info","message":"Getting category sales","service":"dashly-backend","timestamp":"2025-05-09 23:08:08","userId":9}
{"businessId":6,"context":"Getting category sales","level":"error","message":"column \"categories.id\" must appear in the GROUP BY clause or be used in an aggregate function","service":"dashly-backend","stack":"PostgresError: column \"categories.id\" must appear in the GROUP BY clause or be used in an aggregate function\n    at ErrorResponse (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:788:26)\n    at handle (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:474:6)\n    at Socket.data (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:315:9)\n    at Socket.emit (node:events:507:28)\n    at addChunk (node:internal/streams/readable:559:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)\n    at Readable.push (node:internal/streams/readable:390:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-05-09 23:08:08","userId":9}
{"businessId":6,"context":"Report data collection","level":"error","message":"Failed to get category sales: column \"categories.id\" must appear in the GROUP BY clause or be used in an aggregate function","sections":{"categories":true,"products":true,"revenue":true,"sales":true},"service":"dashly-backend","stack":"Error: Failed to get category sales: column \"categories.id\" must appear in the GROUP BY clause or be used in an aggregate function\n    at Storage.getCategorySales (C:\\Users\\xdSharp-dev\\Documents\\Code\\xdSharp\\WebStormProjects\\Dashly\\server\\storage.ts:668:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async <anonymous> (C:\\Users\\xdSharp-dev\\Documents\\Code\\xdSharp\\WebStormProjects\\Dashly\\server\\routes.ts:464:35)","timestamp":"2025-05-09 23:08:08","userId":9}
{"businessId":6,"context":"Report generation","level":"error","message":"Failed to collect report data: Failed to get category sales: column \"categories.id\" must appear in the GROUP BY clause or be used in an aggregate function","sections":{"categories":true,"products":true,"revenue":true,"sales":true},"service":"dashly-backend","stack":"Error: Failed to collect report data: Failed to get category sales: column \"categories.id\" must appear in the GROUP BY clause or be used in an aggregate function\n    at <anonymous> (C:\\Users\\xdSharp-dev\\Documents\\Code\\xdSharp\\WebStormProjects\\Dashly\\server\\routes.ts:506:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-09 23:08:08","userId":9}
{"businessId":6,"level":"info","message":"Starting report generation","sections":{"categories":true,"products":true,"revenue":true,"sales":true},"service":"dashly-backend","timestamp":"2025-05-09 23:08:15","userId":9}
{"businessId":6,"level":"info","message":"Fetching sales data","service":"dashly-backend","timestamp":"2025-05-09 23:08:15","userId":9}
{"filter":{"businessId":6,"userId":9},"level":"info","message":"Getting sales with filter","service":"dashly-backend","timestamp":"2025-05-09 23:08:15","userId":9}
{"count":1,"level":"info","message":"Sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:08:15"}
{"count":1,"level":"info","message":"Sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:08:15"}
{"businessId":6,"level":"info","message":"Fetching products data","service":"dashly-backend","timestamp":"2025-05-09 23:08:15","userId":9}
{"businessId":6,"level":"info","message":"Getting products with sales data","service":"dashly-backend","timestamp":"2025-05-09 23:08:15","userId":9}
{"count":1,"level":"info","message":"Products with sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:08:15"}
{"count":1,"level":"info","message":"Products data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:08:15"}
{"businessId":6,"level":"info","message":"Fetching categories data","service":"dashly-backend","timestamp":"2025-05-09 23:08:15","userId":9}
{"businessId":6,"level":"info","message":"Getting category sales","service":"dashly-backend","timestamp":"2025-05-09 23:08:15","userId":9}
{"businessId":6,"context":"Getting category sales","level":"error","message":"column \"categories.id\" must appear in the GROUP BY clause or be used in an aggregate function","service":"dashly-backend","stack":"PostgresError: column \"categories.id\" must appear in the GROUP BY clause or be used in an aggregate function\n    at ErrorResponse (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:788:26)\n    at handle (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:474:6)\n    at Socket.data (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:315:9)\n    at Socket.emit (node:events:507:28)\n    at addChunk (node:internal/streams/readable:559:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)\n    at Readable.push (node:internal/streams/readable:390:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-05-09 23:08:15","userId":9}
{"businessId":6,"context":"Report data collection","level":"error","message":"Failed to get category sales: column \"categories.id\" must appear in the GROUP BY clause or be used in an aggregate function","sections":{"categories":true,"products":true,"revenue":true,"sales":true},"service":"dashly-backend","stack":"Error: Failed to get category sales: column \"categories.id\" must appear in the GROUP BY clause or be used in an aggregate function\n    at Storage.getCategorySales (C:\\Users\\xdSharp-dev\\Documents\\Code\\xdSharp\\WebStormProjects\\Dashly\\server\\storage.ts:668:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async <anonymous> (C:\\Users\\xdSharp-dev\\Documents\\Code\\xdSharp\\WebStormProjects\\Dashly\\server\\routes.ts:464:35)","timestamp":"2025-05-09 23:08:15","userId":9}
{"businessId":6,"context":"Report generation","level":"error","message":"Failed to collect report data: Failed to get category sales: column \"categories.id\" must appear in the GROUP BY clause or be used in an aggregate function","sections":{"categories":true,"products":true,"revenue":true,"sales":true},"service":"dashly-backend","stack":"Error: Failed to collect report data: Failed to get category sales: column \"categories.id\" must appear in the GROUP BY clause or be used in an aggregate function\n    at <anonymous> (C:\\Users\\xdSharp-dev\\Documents\\Code\\xdSharp\\WebStormProjects\\Dashly\\server\\routes.ts:506:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-09 23:08:15","userId":9}
{"businessId":6,"level":"info","message":"Starting report generation","sections":{"categories":true,"products":true,"revenue":true,"sales":true},"service":"dashly-backend","timestamp":"2025-05-09 23:08:24","userId":9}
{"businessId":6,"level":"info","message":"Fetching sales data","service":"dashly-backend","timestamp":"2025-05-09 23:08:24","userId":9}
{"filter":{"businessId":6,"userId":9},"level":"info","message":"Getting sales with filter","service":"dashly-backend","timestamp":"2025-05-09 23:08:24","userId":9}
{"count":1,"level":"info","message":"Sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:08:24"}
{"count":1,"level":"info","message":"Sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:08:24"}
{"businessId":6,"level":"info","message":"Fetching products data","service":"dashly-backend","timestamp":"2025-05-09 23:08:24","userId":9}
{"businessId":6,"level":"info","message":"Getting products with sales data","service":"dashly-backend","timestamp":"2025-05-09 23:08:24","userId":9}
{"count":1,"level":"info","message":"Products with sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:08:24"}
{"count":1,"level":"info","message":"Products data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:08:24"}
{"businessId":6,"level":"info","message":"Fetching categories data","service":"dashly-backend","timestamp":"2025-05-09 23:08:24","userId":9}
{"businessId":6,"level":"info","message":"Getting category sales","service":"dashly-backend","timestamp":"2025-05-09 23:08:24","userId":9}
{"businessId":6,"context":"Getting category sales","level":"error","message":"column \"categories.id\" must appear in the GROUP BY clause or be used in an aggregate function","service":"dashly-backend","stack":"PostgresError: column \"categories.id\" must appear in the GROUP BY clause or be used in an aggregate function\n    at ErrorResponse (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:788:26)\n    at handle (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:474:6)\n    at Socket.data (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:315:9)\n    at Socket.emit (node:events:507:28)\n    at addChunk (node:internal/streams/readable:559:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)\n    at Readable.push (node:internal/streams/readable:390:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-05-09 23:08:24","userId":9}
{"businessId":6,"context":"Report data collection","level":"error","message":"Failed to get category sales: column \"categories.id\" must appear in the GROUP BY clause or be used in an aggregate function","sections":{"categories":true,"products":true,"revenue":true,"sales":true},"service":"dashly-backend","stack":"Error: Failed to get category sales: column \"categories.id\" must appear in the GROUP BY clause or be used in an aggregate function\n    at Storage.getCategorySales (C:\\Users\\xdSharp-dev\\Documents\\Code\\xdSharp\\WebStormProjects\\Dashly\\server\\storage.ts:668:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async <anonymous> (C:\\Users\\xdSharp-dev\\Documents\\Code\\xdSharp\\WebStormProjects\\Dashly\\server\\routes.ts:464:35)","timestamp":"2025-05-09 23:08:24","userId":9}
{"businessId":6,"context":"Report generation","level":"error","message":"Failed to collect report data: Failed to get category sales: column \"categories.id\" must appear in the GROUP BY clause or be used in an aggregate function","sections":{"categories":true,"products":true,"revenue":true,"sales":true},"service":"dashly-backend","stack":"Error: Failed to collect report data: Failed to get category sales: column \"categories.id\" must appear in the GROUP BY clause or be used in an aggregate function\n    at <anonymous> (C:\\Users\\xdSharp-dev\\Documents\\Code\\xdSharp\\WebStormProjects\\Dashly\\server\\routes.ts:506:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-09 23:08:24","userId":9}
{"businessId":6,"level":"info","message":"Starting report generation","sections":{"categories":true,"products":true,"revenue":true,"sales":true},"service":"dashly-backend","timestamp":"2025-05-09 23:16:40","userId":9}
{"businessId":6,"level":"info","message":"Fetching sales data","service":"dashly-backend","timestamp":"2025-05-09 23:16:40","userId":9}
{"filter":{"businessId":6,"userId":9},"level":"info","message":"Getting sales with filter","service":"dashly-backend","timestamp":"2025-05-09 23:16:40","userId":9}
{"count":1,"level":"info","message":"Sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:16:40"}
{"count":1,"level":"info","message":"Sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:16:40"}
{"businessId":6,"level":"info","message":"Fetching products data","service":"dashly-backend","timestamp":"2025-05-09 23:16:40","userId":9}
{"businessId":6,"level":"info","message":"Getting products with sales data","service":"dashly-backend","timestamp":"2025-05-09 23:16:40","userId":9}
{"count":1,"level":"info","message":"Products with sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:16:40"}
{"count":1,"level":"info","message":"Products data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:16:40"}
{"businessId":6,"level":"info","message":"Fetching categories data","service":"dashly-backend","timestamp":"2025-05-09 23:16:40","userId":9}
{"businessId":6,"level":"info","message":"Getting category sales","service":"dashly-backend","timestamp":"2025-05-09 23:16:40","userId":9}
{"businessId":6,"context":"Getting category sales","level":"error","message":"column \"categories.id\" must appear in the GROUP BY clause or be used in an aggregate function","service":"dashly-backend","stack":"PostgresError: column \"categories.id\" must appear in the GROUP BY clause or be used in an aggregate function\n    at ErrorResponse (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:788:26)\n    at handle (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:474:6)\n    at Socket.data (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:315:9)\n    at Socket.emit (node:events:507:28)\n    at addChunk (node:internal/streams/readable:559:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)\n    at Readable.push (node:internal/streams/readable:390:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-05-09 23:16:40","userId":9}
{"businessId":6,"context":"Report data collection","level":"error","message":"Failed to get category sales: column \"categories.id\" must appear in the GROUP BY clause or be used in an aggregate function","sections":{"categories":true,"products":true,"revenue":true,"sales":true},"service":"dashly-backend","stack":"Error: Failed to get category sales: column \"categories.id\" must appear in the GROUP BY clause or be used in an aggregate function\n    at Storage.getCategorySales (C:\\Users\\xdSharp-dev\\Documents\\Code\\xdSharp\\WebStormProjects\\Dashly\\server\\storage.ts:668:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async <anonymous> (C:\\Users\\xdSharp-dev\\Documents\\Code\\xdSharp\\WebStormProjects\\Dashly\\server\\routes.ts:464:35)","timestamp":"2025-05-09 23:16:40","userId":9}
{"businessId":6,"context":"Report generation","level":"error","message":"Failed to collect report data: Failed to get category sales: column \"categories.id\" must appear in the GROUP BY clause or be used in an aggregate function","sections":{"categories":true,"products":true,"revenue":true,"sales":true},"service":"dashly-backend","stack":"Error: Failed to collect report data: Failed to get category sales: column \"categories.id\" must appear in the GROUP BY clause or be used in an aggregate function\n    at <anonymous> (C:\\Users\\xdSharp-dev\\Documents\\Code\\xdSharp\\WebStormProjects\\Dashly\\server\\routes.ts:506:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-09 23:16:40","userId":9}
{"dateRange":{"end":"2025-12-31T20:59:59.000Z","start":"2024-12-31T21:00:00.000Z"},"level":"info","message":"Getting monthly sales","service":"dashly-backend","timestamp":"2025-05-09 23:17:26","userId":9,"year":2025}
{"level":"info","message":"Executing query for all businesses","service":"dashly-backend","timestamp":"2025-05-09 23:17:26","userId":9}
{"context":"Getting monthly sales","level":"error","message":"The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","service":"dashly-backend","stack":"TypeError [ERR_INVALID_ARG_TYPE]: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at Function.byteLength (node:buffer:777:11)\n    at Function.str (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/bytes.js:22:27)\n    at file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:938:16\n    at Array.forEach (<anonymous>)\n    at Bind (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:928:16)\n    at prepared (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:204:7)\n    at ParameterDescription (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:607:58)\n    at handle (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:474:6)\n    at Socket.data (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:315:9)\n    at Socket.emit (node:events:507:28)","timestamp":"2025-05-09 23:17:26","userId":9,"year":2025}
{"filter":{},"level":"info","message":"Getting sales with filter","service":"dashly-backend","timestamp":"2025-05-09 23:17:26","userId":9}
{"count":1,"level":"info","message":"Sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:17:26"}
{"businessId":6,"dateRange":{"end":"2025-12-31T20:59:59.000Z","start":"2024-12-31T21:00:00.000Z"},"level":"info","message":"Getting monthly sales","service":"dashly-backend","timestamp":"2025-05-09 23:17:27","userId":9,"year":2025}
{"businessId":6,"level":"info","message":"Executing query with specific businessId","service":"dashly-backend","timestamp":"2025-05-09 23:17:27"}
{"filter":{"businessId":6},"level":"info","message":"Getting sales with filter","service":"dashly-backend","timestamp":"2025-05-09 23:17:27","userId":9}
{"businessId":6,"context":"Getting monthly sales","level":"error","message":"The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","service":"dashly-backend","stack":"TypeError [ERR_INVALID_ARG_TYPE]: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at Function.byteLength (node:buffer:777:11)\n    at Function.str (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/bytes.js:22:27)\n    at file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:938:16\n    at Array.forEach (<anonymous>)\n    at Bind (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:928:16)\n    at prepared (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:204:7)\n    at ParameterDescription (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:607:58)\n    at handle (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:474:6)\n    at Socket.data (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:315:9)\n    at Socket.emit (node:events:507:28)","timestamp":"2025-05-09 23:17:27","userId":9,"year":2025}
{"count":1,"level":"info","message":"Sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:17:27"}
{"businessId":6,"dateRange":{"end":"2025-12-31T20:59:59.000Z","start":"2024-12-31T21:00:00.000Z"},"level":"info","message":"Getting monthly sales","service":"dashly-backend","timestamp":"2025-05-09 23:17:27","userId":9,"year":2025}
{"businessId":6,"level":"info","message":"Executing query with specific businessId","service":"dashly-backend","timestamp":"2025-05-09 23:17:27"}
{"businessId":6,"context":"Getting monthly sales","level":"error","message":"The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","service":"dashly-backend","stack":"TypeError [ERR_INVALID_ARG_TYPE]: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at Function.byteLength (node:buffer:777:11)\n    at Function.str (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/bytes.js:22:27)\n    at file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:938:16\n    at Array.forEach (<anonymous>)\n    at Bind (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:928:16)\n    at prepared (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:204:7)\n    at ParameterDescription (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:607:58)\n    at handle (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:474:6)\n    at Socket.data (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:315:9)\n    at Socket.emit (node:events:507:28)","timestamp":"2025-05-09 23:17:27","userId":9,"year":2025}
{"businessId":6,"dateRange":{"end":"2025-12-31T20:59:59.000Z","start":"2024-12-31T21:00:00.000Z"},"level":"info","message":"Getting monthly sales","service":"dashly-backend","timestamp":"2025-05-09 23:17:28","userId":9,"year":2025}
{"businessId":6,"level":"info","message":"Executing query with specific businessId","service":"dashly-backend","timestamp":"2025-05-09 23:17:28"}
{"businessId":6,"context":"Getting monthly sales","level":"error","message":"The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","service":"dashly-backend","stack":"TypeError [ERR_INVALID_ARG_TYPE]: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at Function.byteLength (node:buffer:777:11)\n    at Function.str (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/bytes.js:22:27)\n    at file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:938:16\n    at Array.forEach (<anonymous>)\n    at Bind (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:928:16)\n    at prepared (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:204:7)\n    at ParameterDescription (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:607:58)\n    at handle (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:474:6)\n    at Socket.data (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:315:9)\n    at Socket.emit (node:events:507:28)","timestamp":"2025-05-09 23:17:28","userId":9,"year":2025}
{"businessId":6,"dateRange":{"end":"2025-12-31T20:59:59.000Z","start":"2024-12-31T21:00:00.000Z"},"level":"info","message":"Getting monthly sales","service":"dashly-backend","timestamp":"2025-05-09 23:17:29","userId":9,"year":2025}
{"businessId":6,"level":"info","message":"Executing query with specific businessId","service":"dashly-backend","timestamp":"2025-05-09 23:17:29"}
{"businessId":6,"context":"Getting monthly sales","level":"error","message":"The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","service":"dashly-backend","stack":"TypeError [ERR_INVALID_ARG_TYPE]: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at Function.byteLength (node:buffer:777:11)\n    at Function.str (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/bytes.js:22:27)\n    at file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:938:16\n    at Array.forEach (<anonymous>)\n    at Bind (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:928:16)\n    at prepared (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:204:7)\n    at ParameterDescription (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:607:58)\n    at handle (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:474:6)\n    at Socket.data (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:315:9)\n    at Socket.emit (node:events:507:28)","timestamp":"2025-05-09 23:17:29","userId":9,"year":2025}
{"businessId":6,"level":"info","message":"Starting report generation","sections":{"categories":true,"products":true,"revenue":true,"sales":true},"service":"dashly-backend","timestamp":"2025-05-09 23:17:31","userId":9}
{"businessId":6,"level":"info","message":"Fetching sales data","service":"dashly-backend","timestamp":"2025-05-09 23:17:31","userId":9}
{"filter":{"businessId":6,"userId":9},"level":"info","message":"Getting sales with filter","service":"dashly-backend","timestamp":"2025-05-09 23:17:31","userId":9}
{"count":1,"level":"info","message":"Sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:17:31"}
{"count":1,"level":"info","message":"Sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:17:31"}
{"businessId":6,"level":"info","message":"Fetching products data","service":"dashly-backend","timestamp":"2025-05-09 23:17:31","userId":9}
{"businessId":6,"level":"info","message":"Getting products with sales data","service":"dashly-backend","timestamp":"2025-05-09 23:17:31","userId":9}
{"count":1,"level":"info","message":"Products with sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:17:31"}
{"count":1,"level":"info","message":"Products data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:17:31"}
{"businessId":6,"level":"info","message":"Fetching categories data","service":"dashly-backend","timestamp":"2025-05-09 23:17:31","userId":9}
{"businessId":6,"level":"info","message":"Getting category sales","service":"dashly-backend","timestamp":"2025-05-09 23:17:31","userId":9}
{"count":1,"hasData":true,"level":"info","message":"Category sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:17:31"}
{"count":1,"level":"info","message":"Categories data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:17:31"}
{"businessId":6,"level":"info","message":"Fetching revenue data","service":"dashly-backend","timestamp":"2025-05-09 23:17:31","userId":9}
{"businessId":6,"dateRange":{"end":"2025-12-31T20:59:59.000Z","start":"2024-12-31T21:00:00.000Z"},"level":"info","message":"Getting monthly sales","service":"dashly-backend","timestamp":"2025-05-09 23:17:31","userId":9,"year":2025}
{"businessId":6,"level":"info","message":"Executing query with specific businessId","service":"dashly-backend","timestamp":"2025-05-09 23:17:31"}
{"businessId":6,"context":"Getting monthly sales","level":"error","message":"The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","service":"dashly-backend","stack":"TypeError [ERR_INVALID_ARG_TYPE]: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at Function.byteLength (node:buffer:777:11)\n    at Function.str (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/bytes.js:22:27)\n    at file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:938:16\n    at Array.forEach (<anonymous>)\n    at Bind (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:928:16)\n    at prepared (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:204:7)\n    at ParameterDescription (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:607:58)\n    at handle (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:474:6)\n    at Socket.data (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:315:9)\n    at Socket.emit (node:events:507:28)","timestamp":"2025-05-09 23:17:31","userId":9,"year":2025}
{"businessId":6,"context":"Report data collection","level":"error","message":"Failed to get monthly sales: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","sections":{"categories":true,"products":true,"revenue":true,"sales":true},"service":"dashly-backend","stack":"Error: Failed to get monthly sales: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at Storage.getMonthlySales (C:\\Users\\xdSharp-dev\\Documents\\Code\\xdSharp\\WebStormProjects\\Dashly\\server\\storage.ts:627:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async <anonymous> (C:\\Users\\xdSharp-dev\\Documents\\Code\\xdSharp\\WebStormProjects\\Dashly\\server\\routes.ts:471:32)","timestamp":"2025-05-09 23:17:31","userId":9}
{"businessId":6,"context":"Report generation","level":"error","message":"Failed to collect report data: Failed to get monthly sales: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","sections":{"categories":true,"products":true,"revenue":true,"sales":true},"service":"dashly-backend","stack":"Error: Failed to collect report data: Failed to get monthly sales: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at <anonymous> (C:\\Users\\xdSharp-dev\\Documents\\Code\\xdSharp\\WebStormProjects\\Dashly\\server\\routes.ts:506:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-09 23:17:31","userId":9}
{"businessId":6,"level":"info","message":"Starting report generation","sections":{"categories":true,"products":true,"revenue":true,"sales":true},"service":"dashly-backend","timestamp":"2025-05-09 23:19:38","userId":9}
{"businessId":6,"level":"info","message":"Fetching sales data","service":"dashly-backend","timestamp":"2025-05-09 23:19:38","userId":9}
{"filter":{"businessId":6,"userId":9},"level":"info","message":"Getting sales with filter","service":"dashly-backend","timestamp":"2025-05-09 23:19:38","userId":9}
{"count":1,"level":"info","message":"Sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:19:38"}
{"count":1,"level":"info","message":"Sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:19:38"}
{"businessId":6,"level":"info","message":"Fetching products data","service":"dashly-backend","timestamp":"2025-05-09 23:19:38","userId":9}
{"businessId":6,"level":"info","message":"Getting products with sales data","service":"dashly-backend","timestamp":"2025-05-09 23:19:38","userId":9}
{"count":1,"level":"info","message":"Products with sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:19:38"}
{"count":1,"level":"info","message":"Products data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:19:38"}
{"businessId":6,"level":"info","message":"Fetching categories data","service":"dashly-backend","timestamp":"2025-05-09 23:19:38","userId":9}
{"businessId":6,"level":"info","message":"Getting category sales","service":"dashly-backend","timestamp":"2025-05-09 23:19:38","userId":9}
{"count":1,"hasData":true,"level":"info","message":"Category sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:19:38"}
{"count":1,"level":"info","message":"Categories data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:19:38"}
{"businessId":6,"level":"info","message":"Fetching revenue data","service":"dashly-backend","timestamp":"2025-05-09 23:19:38","userId":9}
{"businessId":6,"dateRange":{"end":"2025-12-31T20:59:59.000Z","start":"2024-12-31T21:00:00.000Z"},"level":"info","message":"Getting monthly sales","service":"dashly-backend","timestamp":"2025-05-09 23:19:38","userId":9,"year":2025}
{"businessId":6,"level":"info","message":"Executing query with specific businessId","service":"dashly-backend","timestamp":"2025-05-09 23:19:38"}
{"businessId":6,"context":"Getting monthly sales","level":"error","message":"The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","service":"dashly-backend","stack":"TypeError [ERR_INVALID_ARG_TYPE]: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at Function.byteLength (node:buffer:777:11)\n    at Function.str (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/bytes.js:22:27)\n    at file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:938:16\n    at Array.forEach (<anonymous>)\n    at Bind (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:928:16)\n    at prepared (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:204:7)\n    at ParameterDescription (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:607:58)\n    at handle (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:474:6)\n    at Socket.data (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:315:9)\n    at Socket.emit (node:events:507:28)","timestamp":"2025-05-09 23:19:38","userId":9,"year":2025}
{"businessId":6,"context":"Report data collection","level":"error","message":"Failed to get monthly sales: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","sections":{"categories":true,"products":true,"revenue":true,"sales":true},"service":"dashly-backend","stack":"Error: Failed to get monthly sales: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at Storage.getMonthlySales (C:\\Users\\xdSharp-dev\\Documents\\Code\\xdSharp\\WebStormProjects\\Dashly\\server\\storage.ts:627:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async <anonymous> (C:\\Users\\xdSharp-dev\\Documents\\Code\\xdSharp\\WebStormProjects\\Dashly\\server\\routes.ts:471:32)","timestamp":"2025-05-09 23:19:38","userId":9}
{"businessId":6,"context":"Report generation","level":"error","message":"Failed to collect report data: Failed to get monthly sales: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","sections":{"categories":true,"products":true,"revenue":true,"sales":true},"service":"dashly-backend","stack":"Error: Failed to collect report data: Failed to get monthly sales: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at <anonymous> (C:\\Users\\xdSharp-dev\\Documents\\Code\\xdSharp\\WebStormProjects\\Dashly\\server\\routes.ts:506:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-09 23:19:38","userId":9}
{"businessId":6,"level":"info","message":"Starting report generation","sections":{"categories":true,"products":true,"revenue":true,"sales":true},"service":"dashly-backend","timestamp":"2025-05-09 23:21:23","userId":9}
{"businessId":6,"level":"info","message":"Fetching sales data","service":"dashly-backend","timestamp":"2025-05-09 23:21:23","userId":9}
{"filter":{"businessId":6,"userId":9},"level":"info","message":"Getting sales with filter","service":"dashly-backend","timestamp":"2025-05-09 23:21:23","userId":9}
{"count":1,"level":"info","message":"Sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:21:23"}
{"count":1,"level":"info","message":"Sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:21:23"}
{"businessId":6,"level":"info","message":"Fetching products data","service":"dashly-backend","timestamp":"2025-05-09 23:21:23","userId":9}
{"businessId":6,"level":"info","message":"Getting products with sales data","service":"dashly-backend","timestamp":"2025-05-09 23:21:23","userId":9}
{"count":1,"level":"info","message":"Products with sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:21:23"}
{"count":1,"level":"info","message":"Products data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:21:23"}
{"businessId":6,"level":"info","message":"Fetching categories data","service":"dashly-backend","timestamp":"2025-05-09 23:21:23","userId":9}
{"businessId":6,"level":"info","message":"Getting category sales","service":"dashly-backend","timestamp":"2025-05-09 23:21:23","userId":9}
{"count":1,"hasData":true,"level":"info","message":"Category sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:21:23"}
{"count":1,"level":"info","message":"Categories data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:21:23"}
{"businessId":6,"level":"info","message":"Fetching revenue data","service":"dashly-backend","timestamp":"2025-05-09 23:21:23","userId":9}
{"businessId":6,"dateRange":{"end":"2025-12-31T20:59:59.000Z","start":"2024-12-31T21:00:00.000Z"},"level":"info","message":"Getting monthly sales","service":"dashly-backend","timestamp":"2025-05-09 23:21:23","userId":9,"year":2025}
{"businessId":6,"level":"info","message":"Executing query with specific businessId","service":"dashly-backend","timestamp":"2025-05-09 23:21:23"}
{"businessId":6,"context":"Getting monthly sales","level":"error","message":"The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","service":"dashly-backend","stack":"TypeError [ERR_INVALID_ARG_TYPE]: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at Function.byteLength (node:buffer:777:11)\n    at Function.str (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/bytes.js:22:27)\n    at file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:938:16\n    at Array.forEach (<anonymous>)\n    at Bind (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:928:16)\n    at prepared (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:204:7)\n    at ParameterDescription (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:607:58)\n    at handle (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:474:6)\n    at Socket.data (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:315:9)\n    at Socket.emit (node:events:507:28)","timestamp":"2025-05-09 23:21:23","userId":9,"year":2025}
{"businessId":6,"context":"Report data collection","level":"error","message":"Failed to get monthly sales: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","sections":{"categories":true,"products":true,"revenue":true,"sales":true},"service":"dashly-backend","stack":"Error: Failed to get monthly sales: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at Storage.getMonthlySales (C:\\Users\\xdSharp-dev\\Documents\\Code\\xdSharp\\WebStormProjects\\Dashly\\server\\storage.ts:627:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async <anonymous> (C:\\Users\\xdSharp-dev\\Documents\\Code\\xdSharp\\WebStormProjects\\Dashly\\server\\routes.ts:471:32)","timestamp":"2025-05-09 23:21:23","userId":9}
{"businessId":6,"context":"Report generation","level":"error","message":"Failed to collect report data: Failed to get monthly sales: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","sections":{"categories":true,"products":true,"revenue":true,"sales":true},"service":"dashly-backend","stack":"Error: Failed to collect report data: Failed to get monthly sales: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at <anonymous> (C:\\Users\\xdSharp-dev\\Documents\\Code\\xdSharp\\WebStormProjects\\Dashly\\server\\routes.ts:506:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-09 23:21:23","userId":9}
{"businessId":6,"level":"info","message":"Starting report generation","sections":{"categories":true,"products":true,"revenue":true,"sales":true},"service":"dashly-backend","timestamp":"2025-05-09 23:21:24","userId":9}
{"businessId":6,"level":"info","message":"Fetching sales data","service":"dashly-backend","timestamp":"2025-05-09 23:21:24","userId":9}
{"filter":{"businessId":6,"userId":9},"level":"info","message":"Getting sales with filter","service":"dashly-backend","timestamp":"2025-05-09 23:21:24","userId":9}
{"count":1,"level":"info","message":"Sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:21:24"}
{"count":1,"level":"info","message":"Sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:21:24"}
{"businessId":6,"level":"info","message":"Fetching products data","service":"dashly-backend","timestamp":"2025-05-09 23:21:24","userId":9}
{"businessId":6,"level":"info","message":"Getting products with sales data","service":"dashly-backend","timestamp":"2025-05-09 23:21:24","userId":9}
{"count":1,"level":"info","message":"Products with sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:21:24"}
{"count":1,"level":"info","message":"Products data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:21:24"}
{"businessId":6,"level":"info","message":"Fetching categories data","service":"dashly-backend","timestamp":"2025-05-09 23:21:24","userId":9}
{"businessId":6,"level":"info","message":"Getting category sales","service":"dashly-backend","timestamp":"2025-05-09 23:21:24","userId":9}
{"count":1,"hasData":true,"level":"info","message":"Category sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:21:24"}
{"count":1,"level":"info","message":"Categories data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:21:24"}
{"businessId":6,"level":"info","message":"Fetching revenue data","service":"dashly-backend","timestamp":"2025-05-09 23:21:24","userId":9}
{"businessId":6,"dateRange":{"end":"2025-12-31T20:59:59.000Z","start":"2024-12-31T21:00:00.000Z"},"level":"info","message":"Getting monthly sales","service":"dashly-backend","timestamp":"2025-05-09 23:21:24","userId":9,"year":2025}
{"businessId":6,"level":"info","message":"Executing query with specific businessId","service":"dashly-backend","timestamp":"2025-05-09 23:21:24"}
{"businessId":6,"context":"Getting monthly sales","level":"error","message":"The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","service":"dashly-backend","stack":"TypeError [ERR_INVALID_ARG_TYPE]: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at Function.byteLength (node:buffer:777:11)\n    at Function.str (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/bytes.js:22:27)\n    at file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:938:16\n    at Array.forEach (<anonymous>)\n    at Bind (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:928:16)\n    at prepared (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:204:7)\n    at ParameterDescription (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:607:58)\n    at handle (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:474:6)\n    at Socket.data (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:315:9)\n    at Socket.emit (node:events:507:28)","timestamp":"2025-05-09 23:21:24","userId":9,"year":2025}
{"businessId":6,"context":"Report data collection","level":"error","message":"Failed to get monthly sales: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","sections":{"categories":true,"products":true,"revenue":true,"sales":true},"service":"dashly-backend","stack":"Error: Failed to get monthly sales: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at Storage.getMonthlySales (C:\\Users\\xdSharp-dev\\Documents\\Code\\xdSharp\\WebStormProjects\\Dashly\\server\\storage.ts:627:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async <anonymous> (C:\\Users\\xdSharp-dev\\Documents\\Code\\xdSharp\\WebStormProjects\\Dashly\\server\\routes.ts:471:32)","timestamp":"2025-05-09 23:21:24","userId":9}
{"businessId":6,"context":"Report generation","level":"error","message":"Failed to collect report data: Failed to get monthly sales: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","sections":{"categories":true,"products":true,"revenue":true,"sales":true},"service":"dashly-backend","stack":"Error: Failed to collect report data: Failed to get monthly sales: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at <anonymous> (C:\\Users\\xdSharp-dev\\Documents\\Code\\xdSharp\\WebStormProjects\\Dashly\\server\\routes.ts:506:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-09 23:21:24","userId":9}
{"businessId":6,"level":"info","message":"Starting report generation","sections":{"categories":true,"products":true,"revenue":true,"sales":true},"service":"dashly-backend","timestamp":"2025-05-09 23:21:28","userId":9}
{"businessId":6,"level":"info","message":"Fetching sales data","service":"dashly-backend","timestamp":"2025-05-09 23:21:28","userId":9}
{"filter":{"businessId":6,"userId":9},"level":"info","message":"Getting sales with filter","service":"dashly-backend","timestamp":"2025-05-09 23:21:28","userId":9}
{"count":1,"level":"info","message":"Sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:21:28"}
{"count":1,"level":"info","message":"Sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:21:28"}
{"businessId":6,"level":"info","message":"Fetching products data","service":"dashly-backend","timestamp":"2025-05-09 23:21:28","userId":9}
{"businessId":6,"level":"info","message":"Getting products with sales data","service":"dashly-backend","timestamp":"2025-05-09 23:21:28","userId":9}
{"count":1,"level":"info","message":"Products with sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:21:28"}
{"count":1,"level":"info","message":"Products data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:21:28"}
{"businessId":6,"level":"info","message":"Fetching categories data","service":"dashly-backend","timestamp":"2025-05-09 23:21:28","userId":9}
{"businessId":6,"level":"info","message":"Getting category sales","service":"dashly-backend","timestamp":"2025-05-09 23:21:28","userId":9}
{"count":1,"hasData":true,"level":"info","message":"Category sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:21:28"}
{"count":1,"level":"info","message":"Categories data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:21:28"}
{"businessId":6,"level":"info","message":"Fetching revenue data","service":"dashly-backend","timestamp":"2025-05-09 23:21:28","userId":9}
{"businessId":6,"dateRange":{"end":"2025-12-31T20:59:59.000Z","start":"2024-12-31T21:00:00.000Z"},"level":"info","message":"Getting monthly sales","service":"dashly-backend","timestamp":"2025-05-09 23:21:28","userId":9,"year":2025}
{"businessId":6,"level":"info","message":"Executing query with specific businessId","service":"dashly-backend","timestamp":"2025-05-09 23:21:28"}
{"businessId":6,"context":"Getting monthly sales","level":"error","message":"The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","service":"dashly-backend","stack":"TypeError [ERR_INVALID_ARG_TYPE]: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at Function.byteLength (node:buffer:777:11)\n    at Function.str (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/bytes.js:22:27)\n    at file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:938:16\n    at Array.forEach (<anonymous>)\n    at Bind (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:928:16)\n    at prepared (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:204:7)\n    at ParameterDescription (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:607:58)\n    at handle (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:474:6)\n    at Socket.data (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:315:9)\n    at Socket.emit (node:events:507:28)","timestamp":"2025-05-09 23:21:28","userId":9,"year":2025}
{"businessId":6,"context":"Report data collection","level":"error","message":"Failed to get monthly sales: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","sections":{"categories":true,"products":true,"revenue":true,"sales":true},"service":"dashly-backend","stack":"Error: Failed to get monthly sales: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at Storage.getMonthlySales (C:\\Users\\xdSharp-dev\\Documents\\Code\\xdSharp\\WebStormProjects\\Dashly\\server\\storage.ts:627:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async <anonymous> (C:\\Users\\xdSharp-dev\\Documents\\Code\\xdSharp\\WebStormProjects\\Dashly\\server\\routes.ts:471:32)","timestamp":"2025-05-09 23:21:28","userId":9}
{"businessId":6,"context":"Report generation","level":"error","message":"Failed to collect report data: Failed to get monthly sales: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","sections":{"categories":true,"products":true,"revenue":true,"sales":true},"service":"dashly-backend","stack":"Error: Failed to collect report data: Failed to get monthly sales: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at <anonymous> (C:\\Users\\xdSharp-dev\\Documents\\Code\\xdSharp\\WebStormProjects\\Dashly\\server\\routes.ts:506:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-09 23:21:28","userId":9}
{"businessId":6,"level":"info","message":"Starting report generation","sections":{"categories":true,"products":true,"revenue":true,"sales":true},"service":"dashly-backend","timestamp":"2025-05-09 23:24:23","userId":9}
{"businessId":6,"level":"info","message":"Fetching sales data","service":"dashly-backend","timestamp":"2025-05-09 23:24:23","userId":9}
{"filter":{"businessId":6,"userId":9},"level":"info","message":"Getting sales with filter","service":"dashly-backend","timestamp":"2025-05-09 23:24:23","userId":9}
{"count":1,"level":"info","message":"Sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:24:23"}
{"count":1,"level":"info","message":"Sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:24:23"}
{"businessId":6,"level":"info","message":"Fetching products data","service":"dashly-backend","timestamp":"2025-05-09 23:24:23","userId":9}
{"businessId":6,"level":"info","message":"Getting products with sales data","service":"dashly-backend","timestamp":"2025-05-09 23:24:23","userId":9}
{"count":1,"level":"info","message":"Products with sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:24:23"}
{"count":1,"level":"info","message":"Products data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:24:23"}
{"businessId":6,"level":"info","message":"Fetching categories data","service":"dashly-backend","timestamp":"2025-05-09 23:24:23","userId":9}
{"businessId":6,"level":"info","message":"Getting category sales","service":"dashly-backend","timestamp":"2025-05-09 23:24:23","userId":9}
{"count":1,"hasData":true,"level":"info","message":"Category sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:24:23"}
{"count":1,"level":"info","message":"Categories data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:24:23"}
{"businessId":6,"level":"info","message":"Fetching revenue data","service":"dashly-backend","timestamp":"2025-05-09 23:24:23","userId":9}
{"businessId":6,"dateRange":{"end":"2025-12-31T20:59:59.000Z","start":"2024-12-31T21:00:00.000Z"},"level":"info","message":"Getting monthly sales","service":"dashly-backend","timestamp":"2025-05-09 23:24:23","userId":9,"year":2025}
{"businessId":6,"level":"info","message":"Executing query with specific businessId","service":"dashly-backend","timestamp":"2025-05-09 23:24:23"}
{"businessId":6,"context":"Getting monthly sales","level":"error","message":"The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","service":"dashly-backend","stack":"TypeError [ERR_INVALID_ARG_TYPE]: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at Function.byteLength (node:buffer:777:11)\n    at Function.str (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/bytes.js:22:27)\n    at file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:938:16\n    at Array.forEach (<anonymous>)\n    at Bind (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:928:16)\n    at prepared (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:204:7)\n    at ParameterDescription (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:607:58)\n    at handle (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:474:6)\n    at Socket.data (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:315:9)\n    at Socket.emit (node:events:507:28)","timestamp":"2025-05-09 23:24:23","userId":9,"year":2025}
{"businessId":6,"context":"Report data collection","level":"error","message":"Failed to get monthly sales: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","sections":{"categories":true,"products":true,"revenue":true,"sales":true},"service":"dashly-backend","stack":"Error: Failed to get monthly sales: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at Storage.getMonthlySales (C:\\Users\\xdSharp-dev\\Documents\\Code\\xdSharp\\WebStormProjects\\Dashly\\server\\storage.ts:627:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async <anonymous> (C:\\Users\\xdSharp-dev\\Documents\\Code\\xdSharp\\WebStormProjects\\Dashly\\server\\routes.ts:471:32)","timestamp":"2025-05-09 23:24:23","userId":9}
{"businessId":6,"context":"Report generation","level":"error","message":"Failed to collect report data: Failed to get monthly sales: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","sections":{"categories":true,"products":true,"revenue":true,"sales":true},"service":"dashly-backend","stack":"Error: Failed to collect report data: Failed to get monthly sales: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at <anonymous> (C:\\Users\\xdSharp-dev\\Documents\\Code\\xdSharp\\WebStormProjects\\Dashly\\server\\routes.ts:506:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-09 23:24:23","userId":9}
{"businessId":6,"level":"info","message":"Starting report generation","sections":{"categories":true,"products":true,"revenue":true,"sales":true},"service":"dashly-backend","timestamp":"2025-05-09 23:38:01","userId":9}
{"businessId":6,"level":"info","message":"Fetching sales data","service":"dashly-backend","timestamp":"2025-05-09 23:38:01","userId":9}
{"filter":{"businessId":6,"userId":9},"level":"info","message":"Getting sales with filter","service":"dashly-backend","timestamp":"2025-05-09 23:38:01","userId":9}
{"count":1,"level":"info","message":"Sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:38:01"}
{"count":1,"level":"info","message":"Sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:38:01"}
{"businessId":6,"level":"info","message":"Fetching products data","service":"dashly-backend","timestamp":"2025-05-09 23:38:01","userId":9}
{"businessId":6,"level":"info","message":"Getting products with sales data","service":"dashly-backend","timestamp":"2025-05-09 23:38:01","userId":9}
{"count":1,"level":"info","message":"Products with sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:38:01"}
{"count":1,"level":"info","message":"Products data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:38:01"}
{"businessId":6,"level":"info","message":"Fetching categories data","service":"dashly-backend","timestamp":"2025-05-09 23:38:01","userId":9}
{"businessId":6,"level":"info","message":"Getting category sales","service":"dashly-backend","timestamp":"2025-05-09 23:38:01","userId":9}
{"count":1,"hasData":true,"level":"info","message":"Category sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:38:01"}
{"count":1,"level":"info","message":"Categories data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:38:01"}
{"businessId":6,"level":"info","message":"Fetching revenue data","service":"dashly-backend","timestamp":"2025-05-09 23:38:01","userId":9}
{"businessId":6,"dateRange":{"end":"2025-12-31T20:59:59.000Z","start":"2024-12-31T21:00:00.000Z"},"level":"info","message":"Getting monthly sales","service":"dashly-backend","timestamp":"2025-05-09 23:38:01","userId":9,"year":2025}
{"businessId":6,"level":"info","message":"Executing query with specific businessId","service":"dashly-backend","timestamp":"2025-05-09 23:38:01"}
{"businessId":6,"context":"Getting monthly sales","level":"error","message":"The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","service":"dashly-backend","stack":"TypeError [ERR_INVALID_ARG_TYPE]: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at Function.byteLength (node:buffer:777:11)\n    at Function.str (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/bytes.js:22:27)\n    at file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:938:16\n    at Array.forEach (<anonymous>)\n    at Bind (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:928:16)\n    at prepared (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:204:7)\n    at ParameterDescription (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:607:58)\n    at handle (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:474:6)\n    at Socket.data (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:315:9)\n    at Socket.emit (node:events:507:28)","timestamp":"2025-05-09 23:38:01","userId":9,"year":2025}
{"businessId":6,"context":"Report data collection","level":"error","message":"Failed to get monthly sales: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","sections":{"categories":true,"products":true,"revenue":true,"sales":true},"service":"dashly-backend","stack":"Error: Failed to get monthly sales: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at Storage.getMonthlySales (C:\\Users\\xdSharp-dev\\Documents\\Code\\xdSharp\\WebStormProjects\\Dashly\\server\\storage.ts:627:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async <anonymous> (C:\\Users\\xdSharp-dev\\Documents\\Code\\xdSharp\\WebStormProjects\\Dashly\\server\\routes.ts:471:32)","timestamp":"2025-05-09 23:38:01","userId":9}
{"businessId":6,"context":"Report generation","level":"error","message":"Failed to collect report data: Failed to get monthly sales: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","sections":{"categories":true,"products":true,"revenue":true,"sales":true},"service":"dashly-backend","stack":"Error: Failed to collect report data: Failed to get monthly sales: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at <anonymous> (C:\\Users\\xdSharp-dev\\Documents\\Code\\xdSharp\\WebStormProjects\\Dashly\\server\\routes.ts:506:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-09 23:38:01","userId":9}
{"businessId":6,"level":"info","message":"Starting report generation","sections":{"categories":true,"products":true,"revenue":true,"sales":true},"service":"dashly-backend","timestamp":"2025-05-09 23:38:09","userId":9}
{"businessId":6,"level":"info","message":"Fetching sales data","service":"dashly-backend","timestamp":"2025-05-09 23:38:09","userId":9}
{"filter":{"businessId":6,"userId":9},"level":"info","message":"Getting sales with filter","service":"dashly-backend","timestamp":"2025-05-09 23:38:09","userId":9}
{"count":1,"level":"info","message":"Sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:38:09"}
{"count":1,"level":"info","message":"Sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:38:09"}
{"businessId":6,"level":"info","message":"Fetching products data","service":"dashly-backend","timestamp":"2025-05-09 23:38:09","userId":9}
{"businessId":6,"level":"info","message":"Getting products with sales data","service":"dashly-backend","timestamp":"2025-05-09 23:38:09","userId":9}
{"count":1,"level":"info","message":"Products with sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:38:09"}
{"count":1,"level":"info","message":"Products data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:38:09"}
{"businessId":6,"level":"info","message":"Fetching categories data","service":"dashly-backend","timestamp":"2025-05-09 23:38:09","userId":9}
{"businessId":6,"level":"info","message":"Getting category sales","service":"dashly-backend","timestamp":"2025-05-09 23:38:09","userId":9}
{"count":1,"hasData":true,"level":"info","message":"Category sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:38:09"}
{"count":1,"level":"info","message":"Categories data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:38:09"}
{"businessId":6,"level":"info","message":"Fetching revenue data","service":"dashly-backend","timestamp":"2025-05-09 23:38:09","userId":9}
{"businessId":6,"dateRange":{"end":"2025-12-31T20:59:59.000Z","start":"2024-12-31T21:00:00.000Z"},"level":"info","message":"Getting monthly sales","service":"dashly-backend","timestamp":"2025-05-09 23:38:09","userId":9,"year":2025}
{"businessId":6,"level":"info","message":"Executing query with specific businessId","service":"dashly-backend","timestamp":"2025-05-09 23:38:09"}
{"businessId":6,"context":"Getting monthly sales","level":"error","message":"The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","service":"dashly-backend","stack":"TypeError [ERR_INVALID_ARG_TYPE]: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at Function.byteLength (node:buffer:777:11)\n    at Function.str (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/bytes.js:22:27)\n    at file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:938:16\n    at Array.forEach (<anonymous>)\n    at Bind (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:928:16)\n    at prepared (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:204:7)\n    at ParameterDescription (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:607:58)\n    at handle (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:474:6)\n    at Socket.data (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:315:9)\n    at Socket.emit (node:events:507:28)","timestamp":"2025-05-09 23:38:09","userId":9,"year":2025}
{"businessId":6,"context":"Report data collection","level":"error","message":"Failed to get monthly sales: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","sections":{"categories":true,"products":true,"revenue":true,"sales":true},"service":"dashly-backend","stack":"Error: Failed to get monthly sales: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at Storage.getMonthlySales (C:\\Users\\xdSharp-dev\\Documents\\Code\\xdSharp\\WebStormProjects\\Dashly\\server\\storage.ts:627:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async <anonymous> (C:\\Users\\xdSharp-dev\\Documents\\Code\\xdSharp\\WebStormProjects\\Dashly\\server\\routes.ts:471:32)","timestamp":"2025-05-09 23:38:09","userId":9}
{"businessId":6,"context":"Report generation","level":"error","message":"Failed to collect report data: Failed to get monthly sales: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","sections":{"categories":true,"products":true,"revenue":true,"sales":true},"service":"dashly-backend","stack":"Error: Failed to collect report data: Failed to get monthly sales: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at <anonymous> (C:\\Users\\xdSharp-dev\\Documents\\Code\\xdSharp\\WebStormProjects\\Dashly\\server\\routes.ts:506:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-09 23:38:09","userId":9}
{"filter":{"businessId":6},"level":"info","message":"Getting sales with filter","service":"dashly-backend","timestamp":"2025-05-09 23:38:26","userId":9}
{"count":1,"level":"info","message":"Sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:38:26"}
{"filter":{"businessId":6},"level":"info","message":"Getting sales with filter","service":"dashly-backend","timestamp":"2025-05-09 23:38:29","userId":9}
{"count":1,"level":"info","message":"Sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:38:29"}
{"businessId":6,"dateRange":{"end":"2025-12-31T20:59:59.000Z","start":"2024-12-31T21:00:00.000Z"},"level":"info","message":"Getting monthly sales","service":"dashly-backend","timestamp":"2025-05-09 23:38:29","userId":9,"year":2025}
{"businessId":6,"level":"info","message":"Executing query with specific businessId","service":"dashly-backend","timestamp":"2025-05-09 23:38:29"}
{"businessId":6,"context":"Getting monthly sales","level":"error","message":"The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","service":"dashly-backend","stack":"TypeError [ERR_INVALID_ARG_TYPE]: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at Function.byteLength (node:buffer:777:11)\n    at Function.str (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/bytes.js:22:27)\n    at file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:938:16\n    at Array.forEach (<anonymous>)\n    at Bind (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:928:16)\n    at prepared (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:204:7)\n    at ParameterDescription (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:607:58)\n    at handle (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:474:6)\n    at Socket.data (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:315:9)\n    at Socket.emit (node:events:507:28)","timestamp":"2025-05-09 23:38:29","userId":9,"year":2025}
{"businessId":6,"dateRange":{"end":"2025-12-31T20:59:59.000Z","start":"2024-12-31T21:00:00.000Z"},"level":"info","message":"Getting monthly sales","service":"dashly-backend","timestamp":"2025-05-09 23:38:30","userId":9,"year":2025}
{"businessId":6,"level":"info","message":"Executing query with specific businessId","service":"dashly-backend","timestamp":"2025-05-09 23:38:30"}
{"businessId":6,"context":"Getting monthly sales","level":"error","message":"The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","service":"dashly-backend","stack":"TypeError [ERR_INVALID_ARG_TYPE]: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at Function.byteLength (node:buffer:777:11)\n    at Function.str (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/bytes.js:22:27)\n    at file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:938:16\n    at Array.forEach (<anonymous>)\n    at Bind (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:928:16)\n    at prepared (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:204:7)\n    at ParameterDescription (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:607:58)\n    at handle (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:474:6)\n    at Socket.data (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:315:9)\n    at Socket.emit (node:events:507:28)","timestamp":"2025-05-09 23:38:30","userId":9,"year":2025}
{"businessId":6,"dateRange":{"end":"2025-12-31T20:59:59.000Z","start":"2024-12-31T21:00:00.000Z"},"level":"info","message":"Getting monthly sales","service":"dashly-backend","timestamp":"2025-05-09 23:38:31","userId":9,"year":2025}
{"businessId":6,"level":"info","message":"Executing query with specific businessId","service":"dashly-backend","timestamp":"2025-05-09 23:38:31"}
{"businessId":6,"context":"Getting monthly sales","level":"error","message":"The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","service":"dashly-backend","stack":"TypeError [ERR_INVALID_ARG_TYPE]: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at Function.byteLength (node:buffer:777:11)\n    at Function.str (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/bytes.js:22:27)\n    at file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:938:16\n    at Array.forEach (<anonymous>)\n    at Bind (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:928:16)\n    at prepared (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:204:7)\n    at ParameterDescription (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:607:58)\n    at handle (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:474:6)\n    at Socket.data (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:315:9)\n    at Socket.emit (node:events:507:28)","timestamp":"2025-05-09 23:38:31","userId":9,"year":2025}
{"businessId":6,"dateRange":{"end":"2025-12-31T20:59:59.000Z","start":"2024-12-31T21:00:00.000Z"},"level":"info","message":"Getting monthly sales","service":"dashly-backend","timestamp":"2025-05-09 23:38:32","userId":9,"year":2025}
{"businessId":6,"level":"info","message":"Executing query with specific businessId","service":"dashly-backend","timestamp":"2025-05-09 23:38:32"}
{"businessId":6,"context":"Getting monthly sales","level":"error","message":"The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","service":"dashly-backend","stack":"TypeError [ERR_INVALID_ARG_TYPE]: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at Function.byteLength (node:buffer:777:11)\n    at Function.str (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/bytes.js:22:27)\n    at file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:938:16\n    at Array.forEach (<anonymous>)\n    at Bind (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:928:16)\n    at prepared (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:204:7)\n    at ParameterDescription (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:607:58)\n    at handle (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:474:6)\n    at Socket.data (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:315:9)\n    at Socket.emit (node:events:507:28)","timestamp":"2025-05-09 23:38:32","userId":9,"year":2025}
{"businessId":6,"dateRange":{"end":"2025-12-31T20:59:59.000Z","start":"2024-12-31T21:00:00.000Z"},"level":"info","message":"Getting monthly sales","service":"dashly-backend","timestamp":"2025-05-09 23:39:20","userId":9,"year":2025}
{"businessId":6,"level":"info","message":"Executing query with specific businessId","service":"dashly-backend","timestamp":"2025-05-09 23:39:20"}
{"businessId":6,"context":"Getting monthly sales","level":"error","message":"The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","service":"dashly-backend","stack":"TypeError [ERR_INVALID_ARG_TYPE]: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at Function.byteLength (node:buffer:777:11)\n    at Function.str (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/bytes.js:22:27)\n    at file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:938:16\n    at Array.forEach (<anonymous>)\n    at Bind (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:928:16)\n    at prepared (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:204:7)\n    at ParameterDescription (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:607:58)\n    at handle (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:474:6)\n    at Socket.data (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:315:9)\n    at Socket.emit (node:events:507:28)","timestamp":"2025-05-09 23:39:20","userId":9,"year":2025}
{"businessId":6,"dateRange":{"end":"2025-12-31T20:59:59.000Z","start":"2024-12-31T21:00:00.000Z"},"level":"info","message":"Getting monthly sales","service":"dashly-backend","timestamp":"2025-05-09 23:39:21","userId":9,"year":2025}
{"businessId":6,"level":"info","message":"Executing query with specific businessId","service":"dashly-backend","timestamp":"2025-05-09 23:39:21"}
{"businessId":6,"context":"Getting monthly sales","level":"error","message":"The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","service":"dashly-backend","stack":"TypeError [ERR_INVALID_ARG_TYPE]: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at Function.byteLength (node:buffer:777:11)\n    at Function.str (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/bytes.js:22:27)\n    at file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:938:16\n    at Array.forEach (<anonymous>)\n    at Bind (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:928:16)\n    at prepared (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:204:7)\n    at ParameterDescription (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:607:58)\n    at handle (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:474:6)\n    at Socket.data (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:315:9)\n    at Socket.emit (node:events:507:28)","timestamp":"2025-05-09 23:39:21","userId":9,"year":2025}
{"businessId":6,"dateRange":{"end":"2025-12-31T20:59:59.000Z","start":"2024-12-31T21:00:00.000Z"},"level":"info","message":"Getting monthly sales","service":"dashly-backend","timestamp":"2025-05-09 23:39:21","userId":9,"year":2025}
{"businessId":6,"level":"info","message":"Executing query with specific businessId","service":"dashly-backend","timestamp":"2025-05-09 23:39:21"}
{"businessId":6,"context":"Getting monthly sales","level":"error","message":"The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","service":"dashly-backend","stack":"TypeError [ERR_INVALID_ARG_TYPE]: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at Function.byteLength (node:buffer:777:11)\n    at Function.str (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/bytes.js:22:27)\n    at file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:938:16\n    at Array.forEach (<anonymous>)\n    at Bind (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:928:16)\n    at prepared (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:204:7)\n    at ParameterDescription (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:607:58)\n    at handle (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:474:6)\n    at Socket.data (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:315:9)\n    at Socket.emit (node:events:507:28)","timestamp":"2025-05-09 23:39:21","userId":9,"year":2025}
{"businessId":6,"dateRange":{"end":"2025-12-31T20:59:59.000Z","start":"2024-12-31T21:00:00.000Z"},"level":"info","message":"Getting monthly sales","service":"dashly-backend","timestamp":"2025-05-09 23:39:24","userId":9,"year":2025}
{"businessId":6,"level":"info","message":"Executing query with specific businessId","service":"dashly-backend","timestamp":"2025-05-09 23:39:24"}
{"businessId":6,"context":"Getting monthly sales","level":"error","message":"The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","service":"dashly-backend","stack":"TypeError [ERR_INVALID_ARG_TYPE]: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at Function.byteLength (node:buffer:777:11)\n    at Function.str (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/bytes.js:22:27)\n    at file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:938:16\n    at Array.forEach (<anonymous>)\n    at Bind (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:928:16)\n    at prepared (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:204:7)\n    at ParameterDescription (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:607:58)\n    at handle (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:474:6)\n    at Socket.data (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:315:9)\n    at Socket.emit (node:events:507:28)","timestamp":"2025-05-09 23:39:24","userId":9,"year":2025}
{"filter":{"businessId":6},"level":"info","message":"Getting sales with filter","service":"dashly-backend","timestamp":"2025-05-09 23:39:25","userId":9}
{"count":1,"level":"info","message":"Sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:39:25"}
{"filter":{"businessId":6},"level":"info","message":"Getting sales with filter","service":"dashly-backend","timestamp":"2025-05-09 23:39:39","userId":9}
{"count":1,"level":"info","message":"Sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:39:39"}
{"businessId":6,"level":"info","message":"Starting report generation","sections":{"categories":true,"products":true,"revenue":true,"sales":true},"service":"dashly-backend","timestamp":"2025-05-09 23:40:04","userId":9}
{"businessId":6,"level":"info","message":"Fetching sales data","service":"dashly-backend","timestamp":"2025-05-09 23:40:04","userId":9}
{"filter":{"businessId":6,"userId":9},"level":"info","message":"Getting sales with filter","service":"dashly-backend","timestamp":"2025-05-09 23:40:04","userId":9}
{"count":1,"level":"info","message":"Sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:40:04"}
{"count":1,"level":"info","message":"Sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:40:04"}
{"businessId":6,"level":"info","message":"Fetching products data","service":"dashly-backend","timestamp":"2025-05-09 23:40:04","userId":9}
{"businessId":6,"level":"info","message":"Getting products with sales data","service":"dashly-backend","timestamp":"2025-05-09 23:40:04","userId":9}
{"count":1,"level":"info","message":"Products with sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:40:04"}
{"count":1,"level":"info","message":"Products data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:40:04"}
{"businessId":6,"level":"info","message":"Fetching categories data","service":"dashly-backend","timestamp":"2025-05-09 23:40:04","userId":9}
{"businessId":6,"level":"info","message":"Getting category sales","service":"dashly-backend","timestamp":"2025-05-09 23:40:04","userId":9}
{"count":1,"hasData":true,"level":"info","message":"Category sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:40:04"}
{"count":1,"level":"info","message":"Categories data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:40:04"}
{"businessId":6,"level":"info","message":"Fetching revenue data","service":"dashly-backend","timestamp":"2025-05-09 23:40:04","userId":9}
{"businessId":6,"dateRange":{"end":"2025-12-31T20:59:59.000Z","start":"2024-12-31T21:00:00.000Z"},"level":"info","message":"Getting monthly sales","service":"dashly-backend","timestamp":"2025-05-09 23:40:04","userId":9,"year":2025}
{"businessId":6,"level":"info","message":"Executing query with specific businessId","service":"dashly-backend","timestamp":"2025-05-09 23:40:04"}
{"businessId":6,"context":"Getting monthly sales","level":"error","message":"The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","service":"dashly-backend","stack":"TypeError [ERR_INVALID_ARG_TYPE]: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at Function.byteLength (node:buffer:777:11)\n    at Function.str (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/bytes.js:22:27)\n    at file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:938:16\n    at Array.forEach (<anonymous>)\n    at Bind (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:928:16)\n    at prepared (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:204:7)\n    at ParameterDescription (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:607:58)\n    at handle (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:474:6)\n    at Socket.data (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:315:9)\n    at Socket.emit (node:events:507:28)","timestamp":"2025-05-09 23:40:05","userId":9,"year":2025}
{"businessId":6,"context":"Report data collection","level":"error","message":"Failed to get monthly sales: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","sections":{"categories":true,"products":true,"revenue":true,"sales":true},"service":"dashly-backend","stack":"Error: Failed to get monthly sales: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at Storage.getMonthlySales (C:\\Users\\xdSharp-dev\\Documents\\Code\\xdSharp\\WebStormProjects\\Dashly\\server\\storage.ts:627:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async <anonymous> (C:\\Users\\xdSharp-dev\\Documents\\Code\\xdSharp\\WebStormProjects\\Dashly\\server\\routes.ts:471:32)","timestamp":"2025-05-09 23:40:05","userId":9}
{"businessId":6,"context":"Report generation","level":"error","message":"Failed to collect report data: Failed to get monthly sales: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","sections":{"categories":true,"products":true,"revenue":true,"sales":true},"service":"dashly-backend","stack":"Error: Failed to collect report data: Failed to get monthly sales: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at <anonymous> (C:\\Users\\xdSharp-dev\\Documents\\Code\\xdSharp\\WebStormProjects\\Dashly\\server\\routes.ts:506:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-09 23:40:05","userId":9}
{"businessId":6,"level":"info","message":"Starting report generation","sections":{"categories":true,"products":true,"revenue":true,"sales":true},"service":"dashly-backend","timestamp":"2025-05-09 23:40:16","userId":9}
{"businessId":6,"level":"info","message":"Fetching sales data","service":"dashly-backend","timestamp":"2025-05-09 23:40:16","userId":9}
{"filter":{"businessId":6,"userId":9},"level":"info","message":"Getting sales with filter","service":"dashly-backend","timestamp":"2025-05-09 23:40:16","userId":9}
{"count":1,"level":"info","message":"Sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:40:16"}
{"count":1,"level":"info","message":"Sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:40:16"}
{"businessId":6,"level":"info","message":"Fetching products data","service":"dashly-backend","timestamp":"2025-05-09 23:40:16","userId":9}
{"businessId":6,"level":"info","message":"Getting products with sales data","service":"dashly-backend","timestamp":"2025-05-09 23:40:16","userId":9}
{"count":1,"level":"info","message":"Products with sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:40:16"}
{"count":1,"level":"info","message":"Products data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:40:16"}
{"businessId":6,"level":"info","message":"Fetching categories data","service":"dashly-backend","timestamp":"2025-05-09 23:40:16","userId":9}
{"businessId":6,"level":"info","message":"Getting category sales","service":"dashly-backend","timestamp":"2025-05-09 23:40:16","userId":9}
{"count":1,"hasData":true,"level":"info","message":"Category sales data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:40:16"}
{"count":1,"level":"info","message":"Categories data retrieved","service":"dashly-backend","timestamp":"2025-05-09 23:40:16"}
{"businessId":6,"level":"info","message":"Fetching revenue data","service":"dashly-backend","timestamp":"2025-05-09 23:40:16","userId":9}
{"businessId":6,"dateRange":{"end":"2025-12-31T20:59:59.000Z","start":"2024-12-31T21:00:00.000Z"},"level":"info","message":"Getting monthly sales","service":"dashly-backend","timestamp":"2025-05-09 23:40:16","userId":9,"year":2025}
{"businessId":6,"level":"info","message":"Executing query with specific businessId","service":"dashly-backend","timestamp":"2025-05-09 23:40:16"}
{"businessId":6,"context":"Getting monthly sales","level":"error","message":"The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","service":"dashly-backend","stack":"TypeError [ERR_INVALID_ARG_TYPE]: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at Function.byteLength (node:buffer:777:11)\n    at Function.str (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/bytes.js:22:27)\n    at file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:938:16\n    at Array.forEach (<anonymous>)\n    at Bind (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:928:16)\n    at prepared (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:204:7)\n    at ParameterDescription (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:607:58)\n    at handle (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:474:6)\n    at Socket.data (file:///C:/Users/xdSharp-dev/Documents/Code/xdSharp/WebStormProjects/Dashly/node_modules/postgres/src/connection.js:315:9)\n    at Socket.emit (node:events:507:28)","timestamp":"2025-05-09 23:40:16","userId":9,"year":2025}
{"businessId":6,"context":"Report data collection","level":"error","message":"Failed to get monthly sales: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","sections":{"categories":true,"products":true,"revenue":true,"sales":true},"service":"dashly-backend","stack":"Error: Failed to get monthly sales: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at Storage.getMonthlySales (C:\\Users\\xdSharp-dev\\Documents\\Code\\xdSharp\\WebStormProjects\\Dashly\\server\\storage.ts:627:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async <anonymous> (C:\\Users\\xdSharp-dev\\Documents\\Code\\xdSharp\\WebStormProjects\\Dashly\\server\\routes.ts:471:32)","timestamp":"2025-05-09 23:40:16","userId":9}
{"businessId":6,"context":"Report generation","level":"error","message":"Failed to collect report data: Failed to get monthly sales: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date","sections":{"categories":true,"products":true,"revenue":true,"sales":true},"service":"dashly-backend","stack":"Error: Failed to collect report data: Failed to get monthly sales: The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer. Received an instance of Date\n    at <anonymous> (C:\\Users\\xdSharp-dev\\Documents\\Code\\xdSharp\\WebStormProjects\\Dashly\\server\\routes.ts:506:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-09 23:40:16","userId":9}
